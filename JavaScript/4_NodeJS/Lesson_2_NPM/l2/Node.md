### package.json
- `name` – имя вашего пакета, которое должно быть уникальным в реестре npm.
Оно должно быть коротким, описательным и должно содержать в себе только
прописные буквы, дефисы и цифры;
- `version` – версия вашего пакета, которая должна следовать семантическому
версионированию. Она состоит из трёх чисел, разделённых точками:
основной версии, подверсии и номера исправления. О семантическом
версионировании мы поговорим немного позже;
- `description` – краткое описание вашего пакета, которое помогает
пользователям понять, что он делает и зачем он нужен. Оно должно быть
одним или двумя предложениями и не содержать HTML-тегов или
URL-адресов;
- `main` – эта строка указывает имя файла, который экспортирует основной
модуль вашего пакета. Это можно понимать, как точку входа в ваш проект. Об
этом поле мы более подробно поговорим немного позже;
- `scripts` – объект, содержащий скрипты проекта, которые могут быть
запущены с помощью команды npm run. Ключи являются названиями
скриптов, а значения – командами для запуска;
- `author` – объект или строка, которая указывает автора или создателя вашего
пакета. Если это объект, он может иметь три поля: name, email и url;
- `license` – эта строка указывает лицензию, под которой распространяется ваш
пакет. Можете пока не обращать внимания на значение лицензии, будем
использовать значение по умолчанию ISC.

- `^` Этот символ означает, что версию пакета необходимо обновлять. Об
  установке и обновлении зависимостей

### node_modules
node_modules – это каталог в вашем проекте npm, в котором хранятся все
установленные пакеты и их зависимости. Когда вы устанавливаете пакет с
помощью NPM, он скачивается из npm registry и размещается в каталоге
node_modules. Также в каталоге node_modules размещаются все пакеты, от которых
зависит установленный пакет.

### Установка зависимостей проекта
Когда проект инициализирован и опубликован в системе контроля версий, его
может скачать любой разработчик команды разработки для работы с кодом. Как вы
помните, node_modules не стоит добавлять в систему контроля версий, по этому
разработчику, чтобы запустить проект, необходимо установить все зависимости.
Для этого он может выполнить две команды: `npm install` или`npm ci`

#### Отличие npm install от npm ci
- `npm install` (без указания конкретного пакета) создаёт директорию node_modules и
скачивает туда все зависимости, указанные в package.json, а также создаст файл
package-lock.json. Если node_modules и package-lock.json уже существуют, npm
install проверит, все ли пакеты, которые есть в package.json, есть в node_modules и
установит недостающие пакеты. Также важно понимать, что npm install обновит
пакеты, у которых в версии есть специальный символ ^ до более актуальных и
обновит информацию о версиях в package-lock.json. Если специальный символ ^ не
указан в версии пакета, то пакет обновлён не будет.
- `npm ci` (clean install) так же как и npm install, создаст директорию node_modules,
если она отсутствует, но при этом версии пакетов будет сверять с файлом
package-lock.json, при этом версии пакетов npm ci не обновляет. Если директория
node_modules уже существует, то npm ci удалит её и создаст, заново скачав туда все
необходимые зависимости. Это более безопасный способ установки зависимостей,
так как иногда автоматическое обновление пакетов с помощью npm install может
привести к поломке вашего кода, если разработчики пакета допустили ошибку в
новой версии пакета, хотя такое происходит крайне редко.

### Удаление пакетов
NPM позволяет удалить установленный пакет, если он вам больше не нужен. Для
этого существует команда `npm uninstall <имя_пакета>`.

### Что такое package-lock.json?
`package-lock.json` – это специальный файл, который создаётся и обновляется
автоматически при установке или обновлении пакетов npm. Этот файл содержит
точную информацию обо всех установленных пакетах в вашем проекте и их
зависимостях, включая номера версий, хеши и пути к файлам.
package-lock.json нужен, для того чтобы гарантировать, что вы и другие
разработчики, работающие с вашим проектом, используете одинаковые версии
пакетов и зависимостей. Это помогает избежать проблем с несовместимостью или
ошибками при запуске или развёртывании вашего проекта.
package-lock.json гарантирует, что если другой разработчик скачает ваш проект с Git
и установит зависимости с помощью команды npm ci, то все версии пакетов будут
такими же, какие и у вас.
Вы не должны редактировать файл package-lock.json вручную или удалять его
из вашего проекта. Вы должны добавить его в систему контроля версий, чтобы
сохранять его историю и синхронизировать его с другими разработчиками.


#### Что такое скрипты NPM?
Теперь давайте разберёмся с ещё одной возможностью npm. Вы можете заметить,
что в package.json есть поле scripts. Сюда вы можете помещать различные
скрипты, которые вам помогут в разработке.
Скрипты NPM – это способ автоматизировать различные задачи, связанные с вашим
проектом. Вы можете запускать скрипты npm с помощью команды npm run
<script-name> в командной строке, где <script-name> – это название вашего
скрипта. Названием скрипта является само поле в объекте scripts.
Скрипты npm могут выполнять различные действия, такие как компиляция,
форматирование, проверка, тестирование, сборка или публикация вашего кода.
Например, вы можете создать скрипт для запуска вашего кода, который генерирует
уникальный идентификатор и выводит его в консоль.
Для этого необходимо добавить в объект scripts новое поле start со значением
node random-data-generator.js:
Для использования нашего нового скрипта необходимо в консоли написать
следующую команду: npm run start и нажать Enter
Фактически мы выполнили команду node random-data-generator.js, то есть запустили свой код, но
через npm, и получили в выводе уникальный идентификатор.
Конечно, такой простой скрипт избыточен и наверно не сильно упрощает жизнь. Но
когда вы начнёте писать серьёзные проекты, вы сможете использовать эти скрипты,
для упрощения запуска нескольких команд.
Также вы могли заметить, что в scripts есть поле `test` – это тестовый скрипт,
который создаётся по умолчанию в проекте npm. Если запустите этот скрипт npm
run test , то увидите сообщение в консоли Error: no test specified. Базово
этот скрипт нужен для указания команды на запуск тестов. Но с тестами вы
познакомитесь позже, а пока можете удалить этот скрипт.

### Экспорт из модулей
Экспорт функций и переменных в node.js позволяет использовать их в других
файлах или модулях, позволяя повторно использовать код и упрощая отладку и
поддержку приложения.
Для экспорта функций и переменных в node.js нужно использовать объект
module.exports, который является свойством глобального объекта module. Этот
объект содержит всё то, что будет доступно для импорта в других файлах или
модулях.

Давайте создадим файл в нашем проекте и назовём его math.js
Откроем файл и добавим туда две функции: add() – функция сложения чисел и
subtract() – функция вычитания чисел:

Для импорта функций и переменных в node.js нужно использовать уже знакомую
вам функцию require(). Она принимает путь к файлу или модулю, из которого
нужно импортировать. Эта функция возвращает объект с импортированными
данными, который можно сохранить в переменной и использовать для вызова
функций или доступа к переменным.


#### Публикация собственного пакета
Теперь давайте создадим новый npm проект. Выполним те шаги, которые мы
выполняли ранее:
Инициализируем проект
`npm init -y`
Также необходимо рядом с package.json создать файл README.md с описанием
проекта. Это описание будет использоваться на сайте npm.

Теперь необходимо подготовить файл package.json
● Нужно придумать название нашего пакета и написать в поле name. Оно
должно быть уникально в рамках npm registry. Проверить уникальность
достаточно просто: нужно зайти на официальный сайт NPM и в поисковой
строке поискать по названию, которое вы хотите дать своему пакету, другие
пакеты с таким же названием. Если поиск не дал результатов – это означает,
что имя не занято и его можно использовать.
● Также нужно добавить описание нашего пакета в поле description
● И ещё не забываем указать себя в качестве автора пакета в поле author
● Теперь обратите внимание на поле main . В этом поле хранится путь до
файла, который будет использован, как файл для импорта. То есть
пользователи, скачавшие ваш пакет, когда в require() укажут название
вашего пакета, получат результатом выполнения функции require()
значение, которое экспортируется из модуля. В нашем случае необходимо
заменить random-data-generator.js на math.js

Теперь публикуем! Для этого необходимо проделать некоторые действия:
● Создайте аккаунт на https://www.npmjs.com/ или войдите в свой
существующий аккаунт.
● Подтвердите свой адрес электронной почты.
● В терминале авторизуйтесь в npm registry с помощью команды npm login.
Эта команда отправит вас в браузер и попросит ввести код из письма на
почте.
● Опубликуйте ваш пакет в npm registry с помощью команды npm publish
● Проверьте, что ваш пакет появился на сайте https://www.npmjs.com/ и
доступен для установки и использования.
Теперь можно устанавливать этот пакет и переиспользовать его код в любом
проекте! Достаточно установить его npm install alex_math_package


### Что такое семантическое версионирование?
Давайте теперь разберёмся, как работают версии пакетов в проекте. Для
версионирования пакетов используется семантическое версионирование.
Семантическое версионирование – это система правил и соглашений для
присвоения номеров версий пакетам. Семантическое версионирование помогает
разработчикам понимать, какие изменения произошли в пакете при обновлении его
версии, и как эти изменения могут повлиять на совместимость с другими пакетами.
Семантическое версионирование использует следующий формат для номеров версий:
major.minor.patch
Где:
● major – это мажорная версия, которая увеличивается, когда в пакете
происходят серьёзные изменения, которые ломают обратную совместимость
с предыдущими версиями. Например, если в пакете изменяется API,
удаляются функции или меняются зависимости.
● minor – это минорная версия, которая увеличивается, когда в пакете
добавляются новые функции или улучшения, которые не ломают обратную
совместимость с предыдущими версиями. Например, если в пакете
добавляются новые опции, параметры или методы.
● patch – это патч-версия, которая увеличивается, когда в пакете исправляются
ошибки или баги, которые не влияют на функциональность или
совместимость с предыдущими версиями. Например, если в пакете
исправляются опечатки, улучшается производительность или безопасность.
При изменении более старшей версии, более младшие обнуляются. Например, если
у нас есть версия 2.5.2 и увеличивается минорная версия, то получится 2.6.0, то
есть патч версия обнулилась.


### Какие ещё есть команды для npm cli?
Давайте теперь в целом посмотрим на список основных команд npm cli:
● npm help или npm h – выводит справочную информацию о командах npm cli;
● npm uninstall <package-name> или npm un <package-name> – удаляет
пакет из вашего проекта и из файла package.json;
● npm list или npm ls – выводит список всех установленных пакетов в
вашем проекте и их версии;
● npm view <package-name> или npm v <package-name> – выводит
информацию о пакете из npm registry, такую как имя, описание, версия,
лицензия, зависимости и т. д.;
● npm search <keyword> или npm s <keyword> – ищет пакеты в npm registry
по ключевому слову и выводит их названия и описания.
💡 Это не полный список команд для npm cli, а только самые часто
используемые. Вы можете найти больше команд и подробности о них на
официальном сайте NPM.